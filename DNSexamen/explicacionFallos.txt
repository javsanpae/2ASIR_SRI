El primer fallo es que, en los archivos de configuración, no menciona a maestro como el equipo encargado de las resoluciones de nombres, esto se cambia en el SOA a la izquierda de la sección del correo (maestro.gorro.ns.)
Siguiendo con la zona directa: El servidor no podría funcionar porque el servidor no se estaba llamando a sí mismo con su dirección IP. Es decir, en lugar de indicarse a sí mismo como un equipo de red estaba llamando al nombre de la zona.
Tan solo ha sido necesario cambiar el “@ IN A 192.168.57.2” por un “maestro IN A 192.168.57.2”.
Partiendo de este problema también he detectado que al mencionar que este servidor es de nombres, en lugar de poner el nombre con el punto final (maestro.) lo ha mencionado sin él, por lo que termina saltando un error.
Este fallo es el causante del error “_ILLEGAL_”: lo hemos detectado al mencionar el servidor de correo. Para empezar no sólo no estaba llamándolo correctamente (correo en lugar de correo.), sino que ese equipo llamado correo no existe: es un alias del servidor primario. Para estos casos hay que directamente apuntar al nombre “original” del equipo y asociar el servidor de correo a ese nombre. Al final con el alias vamos a poder referirnos a él como correo.gorro.ns y nos funcionará igualmente.
Otro fallo final (que no afecta directamente pero sí es importante) es que llama al servidor esclavo pero no indica que es un servidor de nombres. Añadimos la línea @ IN NS esclavo.gorro.ns
Otro fallo que he detectado (aunque no significa implícitamente que diera los errores que nos daba) es que los documentos de configuración estaban declarados con una mala estructura, llamando primero a unos equipos, luego llamando a elementos del dominio y al final una mezcla de aliases. Lo mejor para evitar problemas es ordenarlo tal que 1. Elementos de la zona (@), 2. Equipos del dominio (A/AAAA), 3. Aliases (CNAME).
